{% load static %}

<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Beautician Profile Form</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/8.0.1/normalize.min.css">
    <link href="https://fonts.googleapis.com/css?family=Poppins:400,500,600&display=swap" rel="stylesheet">
    <style>
        * {
            box-sizing: border-box;
        }

        body {
            font-family: 'Poppins', sans-serif;
            background-color: #f5f5f5;
            margin: 0;
            padding: 0;
            /* Background Image */
            
           
            background-image: url('{% static "images/nrsbackground3.jpeg" %}');
            background-size: cover;
            background-position: center;
        }

        header {
            background-color: #ffffff;
            padding: 5px;
            text-align: center;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }

        h1 {
            color: #333333;
            font-size: 2rem;
            margin-bottom: 20px;
        }

        main {
            max-width: 960px;
            margin: 40px auto;
            padding: 20px;
            background-color: #ffffff;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }

        form {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            padding: 20px;
        }

        label {
            display: block;
            margin-bottom: 5px;
            font-weight: 500;
        }

        input[type="text"],
        input[type="url"],
        input[type="number"],
        textarea {
            width: 100%;
            padding: 10px;
            border: 1px solid #cccccc;
            border-radius: 5px;
            font-size: 1rem;
            transition: border-color 0.3s ease;
        }

        input[type="text"]:focus,
        input[type="url"]:focus,
        input[type="number"]:focus,
        textarea:focus {
            outline: none;
            border-color: #007bff;
        }

        button[type="submit"] {
            background-color: #007bff;
            color: white;
            padding: 10px 20px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 1rem;
            grid-column: span 2;
            transition: background-color 0.3s ease;
        }

        button[type="submit"]:hover {
            background-color: #0056b3;
        }

        .back-link {
            display: inline-block;
            margin-bottom: 10px;
            text-decoration: none;
            color: #007bff;
            font-size: 1rem;
        }

        .back-link:hover {
            text-decoration: underline;
        }

        @media (max-width: 768px) {
            form {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<script>
    document.addEventListener('DOMContentLoaded', function () {
        var bioInput = document.getElementById('bio');
        var phoneNumberInput = document.getElementById('phone_number');
        var addressInput = document.getElementById('address');
        var websiteInput = document.getElementById('website');
        var socialMediaLinksInput = document.getElementById('social_media_links');
        var experienceYearsInput = document.getElementById('experience_years');
        var certificationsInput = document.getElementById('certifications');
        var availabilityInput = document.getElementById('availability');
        var submitButton = document.querySelector('button[type="submit"]');

        bioInput.addEventListener('input', validateBio);
        phoneNumberInput.addEventListener('input', validatePhoneNumber);
        addressInput.addEventListener('input', validateAddress);
        websiteInput.addEventListener('input', validateWebsite);
        socialMediaLinksInput.addEventListener('input', validateSocialMediaLinks);
        experienceYearsInput.addEventListener('input', validateExperienceYears);
        certificationsInput.addEventListener('input', validateCertifications);
        availabilityInput.addEventListener('input', validateAvailability);

        function showError(inputId, message) {
            var errorElement = document.getElementById(inputId + 'Error');
            if (errorElement) {
                errorElement.innerHTML = message;
            }
        }

        function validateBio() {
    var value = bioInput.value;
    var hasNumeric = /\d/.test(value); // Check for numerical numbers
    var hasSpecialChars = /[^a-zA-Z]/.test(value); // Check for special characters

    var isValid = !hasNumeric && !hasSpecialChars && value.length <= 500;

    if (hasNumeric) {
        showError('bio', 'Use alphabets only (no numerical numbers)');
    } else if (hasSpecialChars) {
        showError('bio', 'Use alphabets only (no special characters)');
    } else {
        showError('bio', isValid ? '' : 'Bio should not exceed 500 characters');
    }

    checkFormValidity();
}


        function validatePhoneNumber() {
            var value = phoneNumberInput.value;
            var isValid = /^\d{3}-\d{3}-\d{4}$/.test(value); // Phone number should match the pattern XXX-XXX-XXXX
            showError('phone_number', isValid ? '' : 'Invalid phone number format (XXX-XXX-XXXX)');
            checkFormValidity();
        }

        function validateAddress() {
            var value = addressInput.value;
            var isValid = value.length <= 500; // Address should not exceed 500 characters
            showError('address', isValid ? '' : 'Address should not exceed 500 characters');
            checkFormValidity();
        }

        function validateWebsite() {
            var value = websiteInput.value;
            var isValid = /^https?:\/\/\S+$/.test(value); // Website should be a valid URL
            showError('website', isValid ? '' : 'Invalid website URL');
            checkFormValidity();
        }

        function validateSocialMediaLinks() {
            var value = socialMediaLinksInput.value;
            var isValid = value.length <= 500; // Social Media Links should not exceed 500 characters
            showError('social_media_links', isValid ? '' : 'Social Media Links should not exceed 500 characters');
            checkFormValidity();
        }

        function validateExperienceYears() {
            var value = experienceYearsInput.value;
            var isValid = /^\d+$/.test(value); // Experience Years should be a positive integer
            showError('experience_years', isValid ? '' : 'Invalid experience years');
            checkFormValidity();
        }

        function validateCertifications() {
            var value = certificationsInput.value;
            var isValid = value.length <= 500; // Certifications should not exceed 500 characters
            showError('certifications', isValid ? '' : 'Certifications should not exceed 500 characters');
            checkFormValidity();
        }

        function validateAvailability() {
            var value = availabilityInput.value;
            var isValid = value.length <= 500; // Availability should not exceed 500 characters
            showError('availability', isValid ? '' : 'Availability should not exceed 500 characters');
            checkFormValidity();
        }

        function checkFormValidity() {
            var isValid = bioInput.checkValidity() &&
                phoneNumberInput.checkValidity() &&
                addressInput.checkValidity() &&
                websiteInput.checkValidity() &&
                socialMediaLinksInput.checkValidity() &&
                experienceYearsInput.checkValidity() &&
                certificationsInput.checkValidity() &&
                availabilityInput.checkValidity();

            submitButton.disabled = !isValid;
        }
    });
</script>

<body>
    <header>
        
        <h1>Beautician Profile</h1>
        <div>
            <a class="navbar-brand" href="#">__________________________________________________________________________________________________</a>
            <a class="navbar-brand" href="{% url 'beautician_profile' %}">Beautician</a>
        </div>


        <a class="back-link" href="{% url 'MakeupArtistTemplate' %}">Back</a>
        
    </header>
    <main>
        <form action="/submit-profile/" method="post">
            <!-- CSRF token for security -->
            <input type="hidden" name="csrfmiddlewaretoken" value="{{ csrf_token }}">

            <!-- Form Fields -->
            <label for="bio">Bio:</label>
            <textarea id="bio" name="bio"></textarea>

            <label for="phone_number">Phone Number:</label>
            <input type="text" id="phone_number" name="phone_number" placeholder="XXX-XXX-XXXX">

            <label for="address">Address:</label>
            <textarea id="address" name="address"></textarea>

            <label for="website">Website:</label>
            <input type="url" id="website" name="website">

            <label for="social_media_links">Social Media Links:</label>
            <textarea id="social_media_links" name="social_media_links"></textarea>

            <label for="experience_years">Experience Years:</label>
            <input type="number" id="experience_years" name="experience_years">

            <label for="certifications">Certifications:</label>
            <textarea id="certifications" name="certifications"></textarea>

            <label for="availability">Availability:</label>
            <textarea id="availability" name="availability"></textarea>

            <!-- Submit Button -->
            <button type="submit">Save Profile</button>
        </form>
    </main>
</body>

</html>
